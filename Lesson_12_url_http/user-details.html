<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<script>
    let url = new URL(location.href);
    let usersId = JSON.parse(url.searchParams.get("value"));

    function recursiveKeyValueGetter(object, divToAppend) {
        for(let key in object) {
            if(typeof object[key] === "object" && object[key] !== null) {
                let ul = document.createElement("ul");
                ul.innerText = `${key}:`
                document.body.append(ul);
                recursiveKeyValueGetter(object[key], ul);
            } else {
                if(divToAppend.nodeName !== "UL") {
                    let ul = document.createElement("ul");
                    ul.innerText = `${key}: ${object[key]}`;
                    divToAppend.append(ul);
                } else {
                    let li = document.createElement("li");
                    li.innerText = `${key}: ${object[key]}`;
                    divToAppend.append(li);
                }

            }
        }
    }

    async function getUser() {
        let usersArr = await fetch("https://jsonplaceholder.typicode.com/users/" + usersId);
        return usersArr.json();
    }

    async function render() {
        let user = await getUser();
        // console.log(user);
        // console.log(user.id)
        // console.log(user.address.suite)
        // let userDiv = document.createElement("div");
        //
        // let id = document.createElement("div");
        // let name = document.createElement("div");
        // let username = document.createElement("div");
        // let email = document.createElement("div");
        // let phone = document.createElement("div");
        // let website = document.createElement("div");
        //
        // id.innerText = `id = ${user.id}`;
        // name.innerText = `name = ${user.name}`;
        // username.innerText = `username = ${user.username}`;
        // email.innerText = `email = ${user.email}`;
        // phone.innerText = `phone = ${user.phone}`;
        // website.innerText = `website = ${user.website}`;
        //
        // let address = document.createElement("ul");
        // address.innerText = `address:`;
        // let street = document.createElement("li");
        // let suite = document.createElement("li");
        // let city = document.createElement("li");
        // let zipcode = document.createElement("li");
        //
        // let geo = document.createElement("li");
        // geo.innerText = `geo:`;
        // let lat = document.createElement("div");
        // let lng = document.createElement("div");
        //
        //
        // street.innerText = `street = ${user.address.street}`;
        // suite.innerText = `suite = ${user.address.suite}`;
        // city.innerText = `city = ${user.address.city}`;
        // zipcode.innerText = `zipcode = ${user.address.zipcode}`;
        // lat.innerText = `lat = ${user.address.geo.lat}`;
        // lng.innerText = `lng = ${user.address.geo.lng}`;
        //
        // geo.append(lat, lng);
        // address.append(street, suite, city, zipcode, geo);
        //
        // let company = document.createElement("ul");
        // company.innerText = `company:`;
        // let companyName = document.createElement("li");
        // let catchPhrase = document.createElement("li");
        // let bs = document.createElement("li");
        // companyName.innerText = `companyName = ${user.company.name}`;
        // catchPhrase.innerText = `catchPhrase = ${user.company.catchPhrase}`;
        // bs.innerText = `bs = ${user.company.bs}`;
        //
        // company.append(companyName, catchPhrase, bs);
        // userDiv.append(id, name, username, email, phone, website, address, company);
        // document.body.appendChild(userDiv);

        // "id": 1,
        //     "name": "Leanne Graham",
        //     "username": "Bret",
        //     "email": "Sincere@april.biz",
        //     "address": {
        //          "street": "Kulas Light",
        //         "suite": "Apt. 556",
        //         "city": "Gwenborough",
        //         "zipcode": "92998-3874",
        //         "geo": {
        //                 "lat": "-37.3159",
        //                 "lng": "81.1496"
        //     }
        // },
        // "phone": "1-770-736-8031 x56442",
        //     "website": "hildegard.org",
        //     "company": {
        //          "name": "Romaguera-Crona",
        //         "catchPhrase": "Multi-layered client-server neural-net",
        //         "bs": "harness real-time e-markets"
        // }

        recursiveKeyValueGetter(user, document.body);
    }
    render();


</script>

</body>
</html>